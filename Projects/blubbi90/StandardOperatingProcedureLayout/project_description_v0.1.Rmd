---
title: "SOP"

output: md_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(knitr)
library(emo)
```
---
title: "SOP"
output: md_document
---

<style>
.invisible-link a {
    opacity: 0;
}

.invisible-link a:hover {
    opacity: 1;
}
</style>

# **Topic of the Project <span class="invisible-link">[ðŸ”—](#Topic-of-the-Project)</span>**
***
You probably know [Elon's Cybertruck](https://s1.cdn.autoevolution.com/images/news/elon-musk-suggesting-the-cybertruck-is-bulletproof-is-reckless-and-nothing-new-223201_1.jpg).

This remarkable ride looks like it's straight from a post-apocalyptic era.

However, it's still way too ugly and edgy.

For this reason, in this project, we are creating a Standard Operating Procedure or [SOP](https://www.digimojo.de/blog/was-ist-eine-sop-standard-operating-procedure-standardarbeitsanweisung) Layout in .md format for Elon, and together we'll secure his place in the billionaire's rank list.  <https://www.bloomberg.com/billionaires/>

***
# **Dataset** <span class="invisible-link">[ðŸ”—](#Dataset)</span>**

The Dataset contains one folder with tables, you can merge them by the ID (col1).

In the Codebook folder, you'll receive the corresponding Codes.

In the Image folder, you'll find the corresponding images.

Take care, one cell can contain more than one value !

***
## **Codebook Structure <span class="invisible-link">[ðŸ”—](#Codebook-Structure)</span>** `r emo::ji("warning")`

The codebooks consist of 4 columns:

### **Section: <span class="invisible-link">[ðŸ”—](#Section:)</span>** 
- Indicates where the following values should appear in the final layout ("Arbeitsschritte X", "Ablauf", "Hilfsmittel").

### **TextBaustein: <span class="invisible-link">[ðŸ”—](#TextBaustein:)</span>** 
This part is unique in the **Overview** codebook. As we aim to display essential information in the overview, these strings are conditional.

    The structure is as follows:
          
          - [Introtext] is always displayed.
          
          - [InfoVar1/2]: one of the variants is displayed depending on the column [Stempel] in Tables 1-3.
          
          - [InfoAddVar1/2]: either none, one, or both are displayed based on columns
            [Handschuhe] &| [if_Gewinde] = True.

### **Table_ID: <span class="invisible-link">[ðŸ”—](#Table_ID:)</span>** 

- Usually a list of all value labels for a specific column from **Tables 1-3**. The associated column is mentioned in the square brackets in the header.

- It can also contain values in square brackets that refer to corresponding columns in **Tables 1-3**. The values in the columns can be seen as values and/or conditions. These values can consist of strings, images, or booleans.

`&rarr;` If the reference to a column value/condition is `false` or contains `NA`s or `0`, the corresponding image/string in the respective **Section** from the **Codebook** need not be included.

`&rarr;` The value **"always"** means the corresponding part (string/image) will always be displayed in the **Section** if the corresponding **Arbeitsschritt** appears.

`&rArr;` Through the codebooks' **Table_ID**, the values from **Tables 1-3** can be matched with their corresponding strings/images & Section Part.`r emo::ji("warning")`

### **String: <span class="invisible-link">[ðŸ”—](#Strings:)</span>**
- Indicates the string/text to be displayed in the corresponding **Section**. It may contain values in square brackets for notes, which should be taken from the corresponding column in **Tables 1-3**.

- If the value is empty (`NA`, `0`), nothing is displayed.

- **Strings** can also contain regular expressions, e.g., `/n` for a line break, `\d{}` for digit removal/addition, etc.

- If possible, text formatting (font size/style, bold, colored, etc.) from the codebooks should be preserved.

### **Image: <span class="invisible-link">[ðŸ”—](#Image:)</span>** 
- Specifies the image file (.png) associated with **Table_ID** and **Section** in the Image folder.
- Values in [square brackets] correspond to *component-specific images* and should be taken from the respective column in **Tables 1-3**.
- The images should be displayed below their respective strings.

`&rarr;` In the **Codebook "7.Verpacken"**, the value `[count_total]` appears in square brackets. This needs to be generated based on `vp_count_layer_pcs * vp_count_layer + vp_count_layer2`.


## **The Table: <span class="invisible-link">[ðŸ”—](#The-Table)</span>**

The **Table 1-3** can contain multiple values per cell, each with different meanings based on their format:

- Values separated by ";" are listed in the same "Arbeitsschritte X".
  
- Values separated as " ["2. Entgraten","3. ..."] " or " 2. Brennerspuren / (braune) Schlieren, 11. ...." are packed into separate "Arbeitsschritte X" &  "Arbeitsschritte Y" with their own numbering.

The values `undefined` & `null` correspond to NA values.

***




# **The Final SOP Layout** <span class="invisible-link">[ðŸ”—](#The-SOP-Layout)</span> `r emo::ji("warning")`

The final layout should include:

- A headnote containing:
  `"Standard Operating Procedure: Manufacturing" \n
  Article: [Article]/[Article_coupl]`

- The logo.png in the top-right corner.

- A header-text: **Manufacturing of Raw Product:**
            `[Article]"/"[Article_coupl] \n
            - Vorbereiten des Arbeitsplatzes! \n
            - Strukturierter Arbeitsablauf, um den Prozess sicherzustellen!`

- A table of the manufacturing steps (3 columns).

- A footnote containing: date / name / page.

`&rarr;` Note: `[Article_coupl]` should only be displayed if there is a value.



## **The Table-layout <span class="invisible-link">[ðŸ”—](#The-Table-layout)</span>**
### Layout: Table Sequence

- The **Overview** section should be generated for each work part.

- The further sequence of **Arbeitsschritte** can be determined based on the numbering in the [Codebook](#Codebook).

- Whether an "Arbeitsschritt" needs to be included in the **#SOP** can be determined either by the presence of the **Table_ID** entry in **Tables 1-3** or by the corresponding auxiliary variables ("if_Anguss","if_Bearbeiten", etc.).


## **The Table-layout <span class="invisible-link">[ðŸ”—](#The-Table-layout)</span>**

- Above each manufacturing step, there should always be a row containing the specific sequence of column headers: "Arbeitsschritt X; Ablauf; Hilfsmittel".

    - The "X" should be a continuous number for each manufacturing step, starting with "1" for "Overview".

- You can find the input-strings related column headers in the **Tables 1-3** under the [Codebook](#Codebook) in the **Section**-Part.


- Make an extra row for each manufacturing step (each Codebook entry) with its header row above.


[<img src="Layout example.png" alt="Bildbeschreibung" width="500" style="display: block; margin: 0 auto;"/>](Layout example.png)



***
 
**Elon be ready, together we will fix your mistake !**

[<img src="elon_musk_jesus_meme.png" alt="Bildbeschreibung" width="300" style="display: block; margin: 0 auto;"/>](elon_musk_jesus_meme.png)

***

[<img src="overview.png" alt="Bildbeschreibung" width="500" style="display: block; margin: 0 auto;"/>](overview.png)



