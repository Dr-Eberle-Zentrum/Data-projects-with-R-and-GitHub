---
title: "Nutriscore Frequency Plotting"
author: "Pleasant Pillai Vijayakumari"
date: "2023-06-20"
output: md_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

```{r}
library(ggplot2)
library(readr)

# Read the data from Food_data_0.txt
data <- read_delim("Food_data_0.txt", delim = "\t", col_names = TRUE)

# Filter the subset based on conditions
subset_data <- subset(data, !(brands == "Nestle" & grepl("palm oil", ingredients_text, ignore.case = TRUE)))

# Filter out rows where nutriscore_score is 0
filtered_data <- subset(subset_data, nutriscore_score != 0)

# Define the colors for nutriscore_grade
Nutri_Colors <- c("#058b49", "#74c928", "#fbc801", "#f4730e", "#ef2d1a")

# Plot histogram of nutriscore_score with colors based on nutriscore_grade
ggplot(filtered_data, aes(x = nutriscore_score, fill = toupper(nutriscore_grade))) +
  geom_histogram(binwidth = 0.5, position = "identity", alpha = 1) +
  scale_fill_manual(values = Nutri_Colors) +
  labs(x = "Nutriscore Score", y = "Frequency", fill = "Nutriscore Grade") +
  theme_minimal()

```

