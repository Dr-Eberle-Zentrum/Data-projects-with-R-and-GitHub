<<<<<<< HEAD
[OpenFoodFacts](https://app.gigasheet.com/spreadsheet/OpenFoodFacts-org-Products-Database/9a056567_9b41_4dda_a673_37fe1d3526b5)

The given data is a subset of the data containing 25 000 rows.

The data table is pretty sparse, in a lot of rows column data is missing. For any analysis you'd have to explain which subset of the data you used, and how you got this subset. Using a subset of the table with only the relevant rows is advised.

-   Define a subset of the table without any Nestle products or products using palm oil.

-   Delete all rows where the sum of all sugars is greater than the amount of carbohydrates

-   Use kj/100g to fill out the blanks in kcal/100g and vice versa.

-   Group foods depending on type (pnns_groups_1), and find the average nutriscore for each group. Visualize this in a suitable plot, using the nutri-score colors if applicable.

-   The nutri-score was established in 2016 in France. Using different indicators (like kj/100g, portion size, additives), can you see a difference in the 'healthyness" difference in food quality between 2016 and 2021(Germany voluntarily adopts the nutri-score) in France and Germany?

-   Look at additives in the food and try to find correlations between foodgroups and additives.

-   Try to find a method to classify (define classes yourself) the foods for CO2-usage (carbon foodprint 100g), and use this method to classify the food items from each unique countrie with the highest/lowest/median energy-kcal_100g

-   Visualize the exports of every country with a sufficiently large number of different exports by food type

-   Visualize whatever you find most interesting here
=======
---
title: "PISA study"
author: "Yaolu Pan"
date: "2023-05-08"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

For the project I want to use a data set I have previously dealt with in an assignment, but this time I will have new research questions. 

The data set is from PISA study from the data collection cycle in year 2018 and I will only deal with the results of Germany. 

The goal of this project is to visualize how often students and their parents read different types of book. 

Visualization goals:

* one single diagramm for barplots or violin plots of different book types 
* maybe grouped plots for students and parents

``` {r cars}
library(haven)
dat <- read_sav("D:/Desktop/WS2021-22 & SS2022/WS2022-2023/SekundÃ¤rdatenanalyse/CY07_MSU_STU_QQQ.sav")
sub <- subset(dat, subset = CNT == "DEU") # Subdataset for Germany, N = 5451
auswahl <- data.frame(sub$ST167Q01IA, sub$ST167Q02IA, sub$ST167Q03IA, sub$ST167Q04IA, sub$ST167Q05IA)


#####
data <- data.frame(Lesevielfalt= c(sub$ST167Q01IA, sub$ST167Q02IA, sub$ST167Q03IA, sub$ST167Q04IA, sub$ST167Q05IA))
data

auflagen_wide <- tibble(Art = c("Der Spiegel", "Stern", "Focus"))

auswahl$Art <- cbind(sub$ST167Q01IA, sub$ST167Q02IA, sub$ST167Q03IA, sub$ST167Q04IA, sub$ST167Q05IA)
structure(auswahl)
attach(auswahl)

df_long <- auswahl %>% 
  pivot_longer(
    cols = c(sub.ST167Q01IA, sub.ST167Q02IA, sub.ST167Q03IA, sub.ST167Q04IA, sub.ST167Q05IA), # BÃ¼cherarten
    names_to = "Art", # where do we want the names of the columns to go? (time)
    values_to = "Wie oft") # where do we want the values in the columns to go? (pro_skala)
df_long


mean(sub.ST167Q01IA, na.rm = T)
mean(sub.ST167Q02IA, na.rm = T)
mean(sub.ST167Q03IA, na.rm = T)
mean(sub.ST167Q04IA, na.rm = T)
mean(sub.ST167Q05IA, na.rm = T)
#####

```

## Including Plots

You can also embed plots, for example:


```{r pressure, echo=FALSE}
boxplot(sub.ST167Q01IA, xlab="magazine", ylab="How often do you read")
boxplot(sub.ST167Q02IA)
boxplot(sub.ST167Q03IA)
boxplot(sub.ST167Q04IA)
boxplot(sub.ST167Q05IA)

```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
>>>>>>> 53565ab603be94f2bdd795cedd59d54d7a4cc377
